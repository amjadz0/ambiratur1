<!DOCTYPE html>
<html lang="ar" dir="rtl">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
      <link rel="shortcut icon" href="500x500.png" type="image/x-icon">
      <style>
         /* CSS Ù…ØªÙ‚Ø¯Ù… ÙˆÙ…Ø·ÙˆØ± */
         :root {
         --primary-color: #2563eb;
         --secondary-color: #3b82f6;
         --accent-color: #60a5fa;
         --background-color: #ffffff;
         --surface-color: #f8fafc;
         --text-primary: #1e293b;
         --text-secondary: #64748b;
         --border-color: #e2e8f0;
         --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
         --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
         --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
         --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
         }
         [data-theme="dark"] {
         --background-color: #0f172a;
         --surface-color: #1e293b;
         --text-primary: #f1f5f9;
         --text-secondary: #94a3b8;
         --border-color: #334155;
         }
         * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         }
         body {
         font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
         background-color: var(--background-color);
         color: var(--text-primary);
         line-height: 1.6;
         transition: var(--transition);
         }
         .container {
         max-width: 1200px;
         margin: 0 auto;
         padding: 20px;
         }
         /* Ø±Ø£Ø³ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
         .header {
         background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
         color: white;
         padding: 30px 0;
         text-align: center;
         box-shadow: var(--shadow-lg);
         margin-bottom: 30px;
         border-radius: 16px;
         }
         .header h1 {
         font-size: 2.5rem;
         font-weight: 700;
         margin-bottom: 10px;
         text-shadow: 0 2px 4px rgba(0,0,0,0.3);
         }
         .header p {
         font-size: 1.1rem;
         opacity: 0.9;
         }
         /* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª */
         .toolbar {
         display: flex;
         justify-content: space-between;
         align-items: center;
         margin-bottom: 30px;
         flex-wrap: wrap;
         gap: 15px;
         }
         .btn {
         background: var(--primary-color);
         color: white;
         border: none;
         padding: 12px 24px;
         border-radius: 8px;
         cursor: pointer;
         font-size: 14px;
         font-weight: 600;
         transition: var(--transition);
         box-shadow: var(--shadow-sm);
         display: inline-flex;
         align-items: center;
         gap: 8px;
         }
         .btn:hover {
         background: var(--secondary-color);
         transform: translateY(-2px);
         box-shadow: var(--shadow-md);
         }
         .btn-secondary {
         background: var(--surface-color);
         color: var(--text-primary);
         border: 2px solid var(--border-color);
         }
         .btn-secondary:hover {
         background: var(--border-color);
         }
         .btn-danger {
         background: #ef4444;
         }
         .btn-danger:hover {
         background: #dc2626;
         }
         /* Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« */
         .search-box {
         position: relative;
         flex: 1;
         max-width: 400px;
         }
         .search-input {
         width: 100%;
         padding: 12px 45px 12px 20px;
         border: 2px solid var(--border-color);
         border-radius: 25px;
         font-size: 14px;
         background: var(--surface-color);
         color: var(--text-primary);
         transition: var(--transition);
         }
         .search-input:focus {
         outline: none;
         border-color: var(--primary-color);
         box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
         }
         .search-icon {
         position: absolute;
         right: 15px;
         top: 50%;
         transform: translateY(-50%);
         color: var(--text-secondary);
         }
         /* Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© */
         .note-form {
         background: var(--surface-color);
         padding: 25px;
         border-radius: 16px;
         box-shadow: var(--shadow-md);
         margin-bottom: 30px;
         border: 1px solid var(--border-color);
         }
         .form-group {
         margin-bottom: 20px;
         }
         .form-label {
         display: block;
         margin-bottom: 8px;
         font-weight: 600;
         color: var(--text-primary);
         }
         .form-input, .form-textarea {
         width: 100%;
         padding: 12px 16px;
         border: 2px solid var(--border-color);
         border-radius: 8px;
         font-size: 14px;
         background: var(--background-color);
         color: var(--text-primary);
         transition: var(--transition);
         }
         .form-input:focus, .form-textarea:focus {
         outline: none;
         border-color: var(--primary-color);
         box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
         }
         .form-textarea {
         resize: vertical;
         min-height: 120px;
         }
         /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
         .notes-grid {
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
         gap: 20px;
         margin-bottom: 30px;
         }
         .note-card {
         background: var(--surface-color);
         padding: 20px;
         border-radius: 12px;
         box-shadow: var(--shadow-sm);
         border: 1px solid var(--border-color);
         transition: var(--transition);
         position: relative;
         overflow: hidden;
         }
         .note-card:hover {
         transform: translateY(-4px);
         box-shadow: var(--shadow-lg);
         }
         .note-card::before {
         content: '';
         position: absolute;
         top: 0;
         right: 0;
         width: 4px;
         height: 100%;
         background: linear-gradient(to bottom, var(--primary-color), var(--accent-color));
         }
         .note-title {
         font-size: 1.2rem;
         font-weight: 700;
         margin-bottom: 10px;
         color: var(--text-primary);
         }
         .note-content {
         color: var(--text-secondary);
         margin-bottom: 15px;
         line-height: 1.5;
         display: -webkit-box;
         -webkit-line-clamp: 3;
         -webkit-box-orient: vertical;
         overflow: hidden;
         }
         .note-meta {
         display: flex;
         justify-content: space-between;
         align-items: center;
         font-size: 12px;
         color: var(--text-secondary);
         }
         .note-actions {
         display: flex;
         gap: 10px;
         margin-top: 15px;
         }
         .btn-small {
         padding: 6px 12px;
         font-size: 12px;
         border-radius: 6px;
         }
         /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù… */
         .theme-toggle {
         position: fixed;
         bottom: 20px;
         left: 20px;
         background: var(--surface-color);
         border: 2px solid var(--border-color);
         border-radius: 50%;
         width: 50px;
         height: 50px;
         display: flex;
         align-items: center;
         justify-content: center;
         cursor: pointer;
         box-shadow: var(--shadow-md);
         transition: var(--transition);
         }
         .theme-toggle:hover {
         transform: scale(1.1);
         }
         /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ */
         .alert {
         position: fixed;
         top: 20px;
         right: 20px;
         padding: 15px 20px;
         border-radius: 8px;
         color: white;
         font-weight: 600;
         box-shadow: var(--shadow-lg);
         transform: translateX(400px);
         transition: var(--transition);
         z-index: 1000;
         }
         .alert.show {
         transform: translateX(0);
         }
         .alert-success {
         background: #10b981;
         }
         .alert-error {
         background: #ef4444;
         }
         .alert-warning {
         background: #f59e0b;
         }
         /* Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ */
         .modal {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background: rgba(0, 0, 0, 0.5);
         z-index: 1000;
         backdrop-filter: blur(5px);
         }
         .modal-content {
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         background: var(--surface-color);
         padding: 30px;
         border-radius: 16px;
         width: 90%;
         max-width: 600px;
         max-height: 80vh;
         overflow-y: auto;
         box-shadow: var(--shadow-lg);
         }
         .modal-header {
         display: flex;
         justify-content: space-between;
         align-items: center;
         margin-bottom: 20px;
         }
         .modal-title {
         font-size: 1.5rem;
         font-weight: 700;
         color: var(--text-primary);
         }
         .close-btn {
         background: none;
         border: none;
         font-size: 24px;
         cursor: pointer;
         color: var(--text-secondary);
         transition: var(--transition);
         }
         .close-btn:hover {
         color: var(--text-primary);
         }
         /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨ */
         @media (max-width: 768px) {
         .container {
         padding: 15px;
         }
         .header h1 {
         font-size: 2rem;
         }
         .toolbar {
         flex-direction: column;
         align-items: stretch;
         }
         .search-box {
         max-width: none;
         }
         .notes-grid {
         grid-template-columns: 1fr;
         }
         .modal-content {
         width: 95%;
         padding: 20px;
         }
         }
         @media (max-width: 480px) {
         .header h1 {
         font-size: 1.5rem;
         }
         .header p {
         font-size: 1rem;
         }
         .btn {
         padding: 10px 20px;
         font-size: 13px;
         }
         .note-form {
         padding: 20px;
         }
         }
         /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
         .loading {
         display: inline-block;
         width: 20px;
         height: 20px;
         border: 3px solid rgba(255,255,255,.3);
         border-radius: 50%;
         border-top-color: white;
         animation: spin 1s ease-in-out infinite;
         }
         @keyframes spin {
         to { transform: rotate(360deg); }
         }
         /* Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© */
         .dropdown {
         position: relative;
         display: inline-block;
         }
         .dropdown-content {
         display: none;
         position: absolute;
         background: var(--surface-color);
         min-width: 200px;
         box-shadow: var(--shadow-lg);
         border-radius: 8px;
         z-index: 1;
         right: 0;
         top: 100%;
         margin-top: 5px;
         border: 1px solid var(--border-color);
         }
         .dropdown:hover .dropdown-content {
         display: block;
         }
         .dropdown-item {
         padding: 12px 16px;
         cursor: pointer;
         transition: var(--transition);
         border-bottom: 1px solid var(--border-color);
         }
         .dropdown-item:last-child {
         border-bottom: none;
         }
         .dropdown-item:hover {
         background: var(--background-color);
         }
         /* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
         .stats {
         display: grid;
         grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
         gap: 20px;
         margin-bottom: 30px;
         }
         .stat-card {
         background: var(--surface-color);
         padding: 20px;
         border-radius: 12px;
         text-align: center;
         box-shadow: var(--shadow-sm);
         border: 1px solid var(--border-color);
         }
         .stat-number {
         font-size: 2rem;
         font-weight: 700;
         color: var(--primary-color);
         }
         .stat-label {
         color: var(--text-secondary);
         font-size: 14px;
         }
      </style>
   </head>
   <body>
      <div class="container">
         <!-- Ø±Ø£Ø³ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
         <header class="header">
            <h1>ğŸ“ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
            <p>Ø£Ù†Ø´Ø¦ØŒ Ù†Ø¸Ù…ØŒ ÙˆØ­Ù…Ù‘Ù„ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ£Ù†Ø§Ù‚Ø©</p>
         </header>
         <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª -->
         <div class="toolbar">
            <div class="search-box">
               <input type="text" class="search-input" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ...">
               <span class="search-icon">ğŸ”</span>
            </div>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
               <button class="btn" onclick="showAddNoteForm()">
               â• Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©
               </button>
               <div class="dropdown">
                  <button class="btn btn-secondary">
                  âš™ï¸ Ø®ÙŠØ§Ø±Ø§Øª â–¼
                  </button>
                  <div class="dropdown-content">
                     <div class="dropdown-item" onclick="exportNotes()">
                        ğŸ“¤ ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
                     </div>
                     <div class="dropdown-item" onclick="importNotes()">
                        ğŸ“¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
                     </div>
                     <div class="dropdown-item" onclick="clearAllNotes()">
                        ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
         <div class="stats">
            <div class="stat-card">
               <div class="stat-number" id="totalNotes">0</div>
               <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</div>
            </div>
            <div class="stat-card">
               <div class="stat-number" id="todayNotes">0</div>
               <div class="stat-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
            </div>
            <div class="stat-card">
               <div class="stat-number" id="storageUsed">0%</div>
               <div class="stat-label">Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</div>
            </div>
         </div>
         <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© -->
         <div class="note-form" id="noteForm" style="display: none;">
            <h3 style="margin-bottom: 20px; color: var(--text-primary);">âœï¸ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
            <div class="form-group">
               <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</label>
               <input type="text" class="form-input" id="noteTitle" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©...">
            </div>
            <div class="form-group">
               <label class="form-label">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</label>
               <textarea class="form-textarea" id="noteContent" placeholder="Ø§ÙƒØªØ¨ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ù‡Ù†Ø§..."></textarea>
            </div>
            <div style="display: flex; gap: 10px;">
               <button class="btn" onclick="saveNote()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</button>
               <button class="btn btn-secondary" onclick="hideAddNoteForm()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
            </div>
         </div>
         <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
         <div class="notes-grid" id="notesGrid">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù‡Ù†Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
         </div>
         <!-- Ø±Ø³Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
         <div id="noNotesMessage" style="text-align: center; padding: 60px 20px; color: var(--text-secondary);">
            <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ“</div>
            <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</h3>
            <p>Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰!</p>
         </div>
      </div>
      <!-- Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© -->
      <div class="modal" id="editModal">
         <div class="modal-content">
            <div class="modal-header">
               <h3 class="modal-title">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</h3>
               <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="form-group">
               <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</label>
               <input type="text" class="form-input" id="editNoteTitle">
            </div>
            <div class="form-group">
               <label class="form-label">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</label>
               <textarea class="form-textarea" id="editNoteContent"></textarea>
            </div>
            <div style="display: flex; gap: 10px;">
               <button class="btn" onclick="updateNote()">ğŸ’¾ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</button>
               <button class="btn btn-secondary" onclick="closeEditModal()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
            </div>
         </div>
      </div>
      <!-- Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù… -->
      <div class="theme-toggle" onclick="toggleTheme()">
         <span id="themeIcon">ğŸŒ™</span>
      </div>
      <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
      <div class="alert" id="alert"></div>
      <script>
         // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
         let notes = [];
         let editingNoteId = null;
         let currentTheme = localStorage.getItem('theme') || 'light';
         
         // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
         document.addEventListener('DOMContentLoaded', function() {
             initializeTheme();
             loadNotes();
             updateStatistics();
             setupEventListeners();
         });
         
         // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…/Ø§Ù„Ù…Ø¶ÙŠØ¡
         function initializeTheme() {
             document.documentElement.setAttribute('data-theme', currentTheme);
             document.getElementById('themeIcon').textContent = currentTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
         }
         
         // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…/Ø§Ù„Ù…Ø¶ÙŠØ¡
         function toggleTheme() {
             currentTheme = currentTheme === 'light' ? 'dark' : 'light';
             document.documentElement.setAttribute('data-theme', currentTheme);
             localStorage.setItem('theme', currentTheme);
             document.getElementById('themeIcon').textContent = currentTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
             showAlert('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
         }
         
         // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
         function setupEventListeners() {
             // Ø§Ù„Ø¨Ø­Ø«
             document.getElementById('searchInput').addEventListener('input', function(e) {
                 searchNotes(e.target.value);
             });
         
             // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
             document.getElementById('noteTitle').addEventListener('keypress', function(e) {
                 if (e.key === 'Enter') {
                     document.getElementById('noteContent').focus();
                 }
             });
         
             // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Escape
             document.addEventListener('keydown', function(e) {
                 if (e.key === 'Escape') {
                     closeEditModal();
                 }
             });
         }
         
         // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù† localStorage
         function loadNotes() {
             const savedNotes = localStorage.getItem('notes');
             if (savedNotes) {
                 notes = JSON.parse(savedNotes);
                 renderNotes();
             }
         }
         
         // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙÙŠ localStorage
         function saveNotesToStorage() {
             localStorage.setItem('notes', JSON.stringify(notes));
             updateStatistics();
         }
         
         // Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø©
         function showAddNoteForm() {
             document.getElementById('noteForm').style.display = 'block';
             document.getElementById('noteTitle').focus();
         }
         
         // Ø¥Ø®ÙØ§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø©
         function hideAddNoteForm() {
             document.getElementById('noteForm').style.display = 'none';
             document.getElementById('noteTitle').value = '';
             document.getElementById('noteContent').value = '';
         }
         
         // Ø­ÙØ¸ Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©
         function saveNote() {
             const title = document.getElementById('noteTitle').value.trim();
             const content = document.getElementById('noteContent').value.trim();
         
             if (!title && !content) {
                 showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø£Ùˆ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©!', 'warning');
                 return;
             }
         
             const note = {
                 id: Date.now(),
                 title: title || 'Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†',
                 content: content,
                 createdAt: new Date().toISOString(),
                 updatedAt: new Date().toISOString()
             };
         
             notes.unshift(note);
             saveNotesToStorage();
             renderNotes();
             hideAddNoteForm();
             showAlert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
         }
         
         // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
         function renderNotes(notesToRender = notes) {
             const notesGrid = document.getElementById('notesGrid');
             const noNotesMessage = document.getElementById('noNotesMessage');
         
             if (notesToRender.length === 0) {
                 notesGrid.style.display = 'none';
                 noNotesMessage.style.display = 'block';
                 return;
             }
         
             notesGrid.style.display = 'grid';
             noNotesMessage.style.display = 'none';
         
             notesGrid.innerHTML = notesToRender.map(note => `
                 <div class="note-card">
                     <div class="note-title">${escapeHtml(note.title)}</div>
                     <div class="note-content">${escapeHtml(note.content)}</div>
                     <div class="note-meta">
                         <span>ğŸ“… ${formatDate(note.createdAt)}</span>
                         <span>ğŸ”„ ${formatDate(note.updatedAt)}</span>
                     </div>
                     <div class="note-actions">
                         <button class="btn btn-small" onclick="editNote(${note.id})">
                             âœï¸ ØªØ¹Ø¯ÙŠÙ„
                         </button>
                         <button class="btn btn-small btn-danger" onclick="deleteNote(${note.id})">
                             ğŸ—‘ï¸ Ø­Ø°Ù
                         </button>
                         <button class="btn btn-small btn-secondary" onclick="downloadNote(${note.id})">
                             ğŸ’¾ ØªØ­Ù…ÙŠÙ„
                         </button>
                     </div>
                 </div>
             `).join('');
         }
         
         // ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„Ø§Ø­Ø¸Ø©
         function editNote(id) {
             const note = notes.find(n => n.id === id);
             if (!note) return;
         
             editingNoteId = id;
             document.getElementById('editNoteTitle').value = note.title;
             document.getElementById('editNoteContent').value = note.content;
             document.getElementById('editModal').style.display = 'block';
             document.getElementById('editNoteTitle').focus();
         }
         
         // ØªØ­Ø¯ÙŠØ« Ù…Ù„Ø§Ø­Ø¸Ø©
         function updateNote() {
             const title = document.getElementById('editNoteTitle').value.trim();
             const content = document.getElementById('editNoteContent').value.trim();
         
             if (!title && !content) {
                 showAlert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø£Ùˆ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©!', 'warning');
                 return;
             }
         
             const noteIndex = notes.findIndex(n => n.id === editingNoteId);
             if (noteIndex !== -1) {
                 notes[noteIndex] = {
                     ...notes[noteIndex],
                     title: title || 'Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†',
                     content: content,
                     updatedAt: new Date().toISOString()
                 };
         
                 saveNotesToStorage();
                 renderNotes();
                 closeEditModal();
                 showAlert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
             }
         }
         
         // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
         function closeEditModal() {
             document.getElementById('editModal').style.display = 'none';
             editingNoteId = null;
         }
         
         // Ø­Ø°Ù Ù…Ù„Ø§Ø­Ø¸Ø©
         function deleteNote(id) {
             if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ')) {
                 notes = notes.filter(note => note.id !== id);
                 saveNotesToStorage();
                 renderNotes();
                 showAlert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
             }
         }
         
         // ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ø§Ø­Ø¸Ø© ÙƒÙ…Ù„Ù
         function downloadNote(id) {
             const note = notes.find(n => n.id === id);
             if (!note) return;
         
             const content = `Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©: ${note.title}\n\nØ§Ù„Ù…Ø­ØªÙˆÙ‰:\n${note.content}\n\nØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡: ${formatDate(note.createdAt)}\nØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ«: ${formatDate(note.updatedAt)}`;
             const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
             const url = URL.createObjectURL(blob);
             
             const a = document.createElement('a');
             a.href = url;
             a.download = `${note.title.replace(/[^a-z0-9]/gi, '_')}.txt`;
             document.body.appendChild(a);
             a.click();
             document.body.removeChild(a);
             URL.revokeObjectURL(url);
             
             showAlert('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
         }
         
         // ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
         function exportNotes() {
             if (notes.length === 0) {
                 showAlert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±!', 'warning');
                 return;
             }
         
             const data = {
                 notes: notes,
                 exportDate: new Date().toISOString(),
                 version: '1.0'
             };
         
             const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json;charset=utf-8' });
             const url = URL.createObjectURL(blob);
             
             const a = document.createElement('a');
             a.href = url;
             a.download = `notes_backup_${new Date().toISOString().split('T')[0]}.json`;
             document.body.appendChild(a);
             a.click();
             document.body.removeChild(a);
             URL.revokeObjectURL(url);
             
             showAlert('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
         }
         
         // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
         function importNotes() {
             const input = document.createElement('input');
             input.type = 'file';
             input.accept = '.json';
             
             input.onchange = function(e) {
                 const file = e.target.files[0];
                 if (!file) return;
         
                 const reader = new FileReader();
                 reader.onload = function(e) {
                     try {
                         const data = JSON.parse(e.target.result);
                         if (data.notes && Array.isArray(data.notes)) {
                             if (confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ø³ØªÙŠØ±Ø§Ø¯ ${data.notes.length} Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ Ø³ÙŠØªÙ… Ø¯Ù…Ø¬Ù‡Ø§ Ù…Ø¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©.`)) {
                                 notes = [...notes, ...data.notes];
                                 saveNotesToStorage();
                                 renderNotes();
                                 showAlert('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                             }
                         } else {
                             showAlert('Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­!', 'error');
                         }
                     } catch (error) {
                         showAlert('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù!', 'error');
                     }
                 };
                 reader.readAsText(file);
             };
             
             input.click();
         }
         
         // Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
         function clearAllNotes() {
             if (notes.length === 0) {
                 showAlert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ø­Ø°ÙÙ‡Ø§!', 'warning');
                 return;
             }
         
             if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) {
                 notes = [];
                 saveNotesToStorage();
                 renderNotes();
                 showAlert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª!', 'success');
             }
         }
         
         // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
         function searchNotes(query) {
             if (!query.trim()) {
                 renderNotes();
                 return;
             }
         
             const filteredNotes = notes.filter(note => 
                 note.title.toLowerCase().includes(query.toLowerCase()) ||
                 note.content.toLowerCase().includes(query.toLowerCase())
             );
         
             renderNotes(filteredNotes);
         }
         
         // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
         function updateStatistics() {
             const totalNotes = notes.length;
             const today = new Date().toDateString();
             const todayNotes = notes.filter(note => 
                 new Date(note.createdAt).toDateString() === today
             ).length;
             
             const storageUsed = Math.round((JSON.stringify(notes).length / (5 * 1024 * 1024)) * 100);
         
             document.getElementById('totalNotes').textContent = totalNotes;
             document.getElementById('todayNotes').textContent = todayNotes;
             document.getElementById('storageUsed').textContent = storageUsed + '%';
         }
         
         // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡
         function showAlert(message, type = 'success') {
             const alert = document.getElementById('alert');
             alert.textContent = message;
             alert.className = `alert alert-${type}`;
             alert.classList.add('show');
         
             setTimeout(() => {
                 alert.classList.remove('show');
             }, 3000);
         }
         
         // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
         function formatDate(dateString) {
             const date = new Date(dateString);
             const now = new Date();
             const diffTime = Math.abs(now - date);
             const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
         
             if (diffDays === 0) {
                 const hours = Math.floor(diffTime / (1000 * 60 * 60));
                 if (hours === 0) {
                     const minutes = Math.floor(diffTime / (1000 * 60));
                     return minutes === 0 ? 'Ø§Ù„Ø¢Ù†' : `Ù‚Ø¨Ù„ ${minutes} Ø¯Ù‚ÙŠÙ‚Ø©`;
                 }
                 return `Ù‚Ø¨Ù„ ${hours} Ø³Ø§Ø¹Ø©`;
             } else if (diffDays === 1) {
                 return 'Ø£Ù…Ø³';
             } else if (diffDays < 7) {
                 return `Ù‚Ø¨Ù„ ${diffDays} Ø£ÙŠØ§Ù…`;
             } else {
                 return date.toLocaleDateString('ar-EG');
             }
         }
         
         // Ù‡Ø±ÙˆØ¨ HTML
         function escapeHtml(text) {
             const div = document.createElement('div');
             div.textContent = text;
             return div.innerHTML;
         }
         
         // ØªÙ†Ø²ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙƒÙ…Ù„Ù Ù†ØµÙŠ
         function downloadAllNotesAsText() {
             if (notes.length === 0) {
                 showAlert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ù„ØªØ­Ù…ÙŠÙ„!', 'warning');
                 return;
             }
         
             let content = '=== Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ===\n\n';
             notes.forEach((note, index) => {
                 content += `Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø±Ù‚Ù… ${index + 1}:\n`;
                 content += `Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${note.title}\n`;
                 content += `Ø§Ù„Ù…Ø­ØªÙˆÙ‰:\n${note.content}\n`;
                 content += `ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡: ${formatDate(note.createdAt)}\n`;
                 content += `ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ«: ${formatDate(note.updatedAt)}\n`;
                 content += '=====================================\n\n';
             });
         
             const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
             const url = URL.createObjectURL(blob);
             
             const a = document.createElement('a');
             a.href = url;
             a.download = `all_notes_${new Date().toISOString().split('T')[0]}.txt`;
             document.body.appendChild(a);
             a.click();
             document.body.removeChild(a);
             URL.revokeObjectURL(url);
             
             showAlert('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
         }
         
         // Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø± ØªÙ†Ø²ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙƒÙ…Ù„Ù Ù†ØµÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
         document.addEventListener('DOMContentLoaded', function() {
             const dropdownContent = document.querySelector('.dropdown-content');
             const downloadAllItem = document.createElement('div');
             downloadAllItem.className = 'dropdown-item';
             downloadAllItem.onclick = downloadAllNotesAsText;
             downloadAllItem.textContent = 'ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù„Ù Ù†ØµÙŠ';
             dropdownContent.appendChild(downloadAllItem);
         });
      </script>
   </body>
</html>